<div ng-repeat="class in classes"
    ng-controller="canvasController"
    draggable="true"
    dnd-type="classObject"
    dnd-draggable="class"
    dnd-effect-allowed="move"
    dnd-dragend="dragendHandler(event, class)"
    class="class ui-draggable ui-draggable-handle"
    style="position:absolute;left:{{class.position[0]}}px;top:{{class.position[1]}}px;"
    data-id="{{class.id}}"
    toggle-selected="selected">
    <div id="class-{{$index}}">
    <div class="ep" ng-click="epClick($event)" >âžœ</div>
    <div >
        <h1 class="heading element-name"
        ng-dblClick="doubleClick(class); $event.stopPropagation()"
        ng-style="{ display: class.editMode === true ? 'none' : '' }">{{class.name}}</h1>

        <input class="edittext" ng-style="{ display: class.editMode === false ? 'none' : '' }" type="text" ng-model="class.name" ng-keyup="editNameKeyPressed(class, $event)"/>
    </div>
    <hr>
    <div class="attribute-holder">
        <ul dnd-list="class.attributes"
            dnd-dragover="true"
            style="position: relative;min-height: 30px;"
            dnd-drop="class.onElementDropped(event, index, item, external, type, 'attributeObject')">

            <li id="attribute-{{$index}}" class='attributeElement' ng-repeat="attribute in class.attributes"
                dnd-type="attributeObject"
                dnd-draggable="attribute"
                style="position: relative;"
                dnd-effect-allowed="move"
                dnd-moved="class.attributes.splice($index, 1)"
                draggable="true"
                ng-dblClick="doubleClick(attribute); $event.stopPropagation()">
                <div ng-style="{ display: attribute.editMode === true ? 'none' : '' }">{{attribute.name}}</div>
                <input class="edittext" ng-style="{ display: attribute.editMode === false ? 'none' : '' }" type="text" ng-model="attribute.name" ng-keyup="editNameKeyPressed(attribute, $event); $event.stopPropagation()">
            </li>
        </ul>
    </div>
    <hr>
    <div class="operation-holder">
        <ul dnd-list="class.operations"
            dnd-dragover="true"
            style="position: relative;min-height: 30px;"
            dnd-drop="class.onElementDropped(event, index, item, external, type, 'operationObject')">

            <li id="attribute-{{$index}}" class='operationElement' ng-repeat="operation in class.operations"
                dnd-type="operationObject"
                dnd-draggable="operation"
                style="position: relative;"
                dnd-effect-allowed="move"
                dnd-moved="class.operations.splice($index, 1)"
                draggable="true"
                ng-dblClick="doubleClick(operation); $event.stopPropagation()">
                <div ng-style="{ display: operation.editMode === true ? 'none' : '' }">{{operation.name}}</div>
                <input class="edittext" ng-style="{ display: operation.editMode === false ? 'none' : '' }" type="text" ng-model="operation.name" ng-keyup="editNameKeyPressed(operation, $event); $event.stopPropagation()">
            </li>
        </ul>
    </div>
    </ul>
</div>
</div>
